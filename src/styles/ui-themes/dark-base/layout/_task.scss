/* stylelint-disable selector-type-no-unknown, selector-max-class, selector-max-specificity, selector-max-combinators, selector-max-compound-selectors */

.isLightTheme,
body,
body.isDarkTheme,
body.isLightTheme,
body.isDarkTheme.isDisableBackgroundGradient,
body.isLightTheme.isDisableBackgroundGradient,
body.isMac.isEnabledBackgroundGradient,
body.isWeb.isEnabledBackgroundGradient,
body.isEnabledBackgroundGradient,
body.isDisableBackgroundGradient {
  // Task
  .scheduled-task,
  .task-list-wrapper .box {
    background-color: var(--color-background-task);

    // Fix scheduled task panel
    .content {
      background-color: var(--color-background-task) !important;
    }

    // Fix offset on dark themes
    top: 0;
  }

  // Current task
  &.isCurrent.isCurrent.isCurrent.isCurrent .inner-wrapper .box,
  .isCurrent.isCurrent.isCurrent.isCurrent .inner-wrapper .box {
    // Override existing !important
    --palette-accent-500: var(--color-accent);
    border-color: var(--color-accent) !important;
  }

  .header-wrapper .current-task-title,
  &.isCurrent.isCurrent.isCurrent.isCurrent .header-wrapper .current-task-title {
    // Override existing !important
    border-color: var(--color-accent) !important;
  }

  // Current play icon
  .play-icon-indicator {
    color: var(--color-accent) !important;
  }

  // Project/tag title
  .tag-title {
    // Override inline style
    color: var(--color-tag-title) !important;
  }

  // Task content
  .title-and-tags-wrapper,
  .task-title {
    color: var(--color-foreground);
    caret-color: var(--color-foreground);

    &:focus {
      background-color: var(--color-inputs-focused);
      border-color: var(--color-large-toggle-panels-inputs);

      &::after {
        background-color: var(--color-inputs-focused);
        border-color: var(--color-large-toggle-panels-inputs);
        box-shadow: none;
      }
    }
  }

  .drag-handle,
  .mat-card {
    background-color: var(--color-background-task);
    color: var(--color-foreground);
  }

  .drag-handle::after {
    box-shadow: none;
  }

  // Task actions on hover
  .first-line:hover .hover-controls {
    background-color: var(--color-background-task);

    // We don't need border in dark theme
    &::before {
      display: none;
    }
  }

  // Rest of the icons
  .mat-button.mat-primary.mat-button-disabled,
  .mat-button.mat-accent.mat-button-disabled,
  .mat-button.mat-warn.mat-button-disabled,
  .mat-button.mat-button-disabled.mat-button-disabled,
  .mat-icon-button.mat-primary.mat-button-disabled,
  .mat-icon-button.mat-accent.mat-button-disabled,
  .mat-icon-button.mat-warn.mat-button-disabled,
  .mat-icon-button.mat-button-disabled.mat-button-disabled,
  .mat-stroked-button.mat-primary.mat-button-disabled,
  .mat-stroked-button.mat-accent.mat-button-disabled,
  .mat-stroked-button.mat-warn.mat-button-disabled,
  .mat-stroked-button.mat-button-disabled.mat-button-disabled,
  .mat-stroked-button:not(.mat-button-disabled) {
    color: var(--color-foreground);
    border-color: var(--color-large-toggle-panels-inputs);
  }

  // Accented button
  .ico-btn.mat-accent,
  .mat-accent {
    color: var(--color-accent) !important;
  }

  // Improve opacity on selected task
  .drag-handle .drag-handle-ico {
    // Make it always this opacity, do not change it based on actions
    opacity: .6 !important;
  }
}
